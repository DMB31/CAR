"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[413],{9413:function(e,n,s){s.r(n),s.d(n,{default:function(){return f}});var a=s(7437),t=s(2265),r=s(9251),l=s(2741),o=s(2549),c=s(8004),i=s(8649),d=s(4033);let u=[{code:"fr",name:"Fran\xe7ais",flag:"\uD83C\uDDEB\uD83C\uDDF7"},{code:"en",name:"English",flag:"\uD83C\uDDEC\uD83C\uDDE7"},{code:"ar",name:"العربية",flag:"\uD83C\uDDE9\uD83C\uDDFF"},{code:"zh",name:"中文",flag:"\uD83C\uDDE8\uD83C\uDDF3"}];function h(){let[e,n]=(0,t.useTransition)(),[s,r]=(0,t.useState)(!1),l=(0,i.bU)(),o=(0,d.useRouter)(),c=(0,d.usePathname)(),h=(0,t.useRef)(null),m=u.find(e=>e.code===l)||u[0];(0,t.useEffect)(()=>{console.log("LanguageSwitcher debug:",{locale:l,pathname:c,currentLanguage:m,languages:u,windowPath:window.location.pathname})},[l,c,m]),(0,t.useEffect)(()=>{let e=e=>{h.current&&!h.current.contains(e.target)&&r(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,t.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);let x=e=>{e!==l&&(r(!1),n(()=>{try{let n;let s=window.location.pathname+window.location.search+window.location.hash;console.log("Starting language change:",{from:l,to:e,currentUrl:s});let a=s,t=RegExp("^/(fr|ar|zh|en)(/|$)"),r=s.match(t);r&&(a=s.replace(r[0],r[2]||"/")),a.startsWith("/")||(a="/"+a),a=a.replace(/\/+/g,"/"),n="/"===a?"/".concat(e):"/".concat(e).concat(a),console.log("Language switch calculation:",{currentUrl:s,currentLocale:l,nextLocale:e,pathWithoutLocale:a,newPath:n,regexMatch:r}),setTimeout(()=>{o.push(n)},100)}catch(n){console.error("Error during language change:",n),o.push("/".concat(e))}}))};return(0,a.jsxs)("div",{className:"relative",ref:h,children:[(0,a.jsxs)("button",{onClick:()=>r(!s),disabled:e,className:"\n          relative w-full min-w-[140px]\n          flex items-center justify-between\n          bg-gradient-to-r from-slate-50 to-gray-50\n          hover:from-white hover:to-slate-50\n          border border-slate-200 hover:border-slate-300\n          text-slate-700 font-medium\n          py-3 px-4\n          rounded-xl\n          leading-tight\n          transition-all duration-200 ease-in-out\n          focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400\n          disabled:opacity-50 disabled:cursor-not-allowed\n          shadow-sm hover:shadow-md\n          ".concat(s?"ring-2 ring-blue-500/20 border-blue-400":"","\n          ").concat(e?"cursor-not-allowed":"cursor-pointer","\n        "),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg",children:m.flag}),(0,a.jsx)("span",{className:"text-sm",children:m.name})]}),(0,a.jsx)("svg",{className:"\n            w-5 h-5 text-slate-400\n            transition-all duration-200 ease-in-out\n            ".concat(s?"rotate-180 text-blue-500":"group-hover:text-slate-600","\n            ").concat(e?"animate-spin":"","\n          "),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e?(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}):(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),e&&(0,a.jsx)("div",{className:"absolute inset-0 bg-white/50 rounded-xl flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})})]}),s&&(0,a.jsx)("div",{className:"\n          absolute top-full left-0 right-0 mt-2 z-50\n          bg-white\n          border border-slate-200\n          rounded-xl\n          shadow-lg shadow-slate-200/50\n          overflow-hidden\n          animate-in fade-in-0 zoom-in-95 duration-200\n        ",children:(0,a.jsx)("div",{className:"py-2",children:u.map(n=>(0,a.jsxs)("button",{onClick:()=>x(n.code),disabled:e,className:"\n                  w-full flex items-center gap-3 px-4 py-3\n                  text-sm font-medium text-left\n                  transition-all duration-150 ease-in-out\n                  hover:bg-slate-50 hover:text-slate-900\n                  focus:outline-none focus:bg-slate-50\n                  disabled:opacity-50 disabled:cursor-not-allowed\n                  ".concat(n.code===l?"bg-blue-50 text-blue-700 border-r-2 border-blue-500":"text-slate-600","\n                "),children:[(0,a.jsx)("span",{className:"text-lg",children:n.flag}),(0,a.jsx)("span",{className:"flex-1",children:n.name}),n.code===l&&(0,a.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},n.code))})})]})}var m=s(7964),x=s(1396),g=s.n(x);function f(){let[e,n]=(0,t.useState)(!1),s=(0,m.T_)("Header"),u=(0,i.bU)(),x=(0,d.usePathname)(),f=()=>{n(!e)},b=x.includes("/blog"),p="/".concat(u),v=[{href:b?"".concat(p,"#services"):"#services",label:s("nav_services")},{href:b?"".concat(p,"#devis"):"#devis",label:s("nav_quote")},{href:b?"".concat(p,"#contact"):"#contact",label:s("nav_contact")}];return(0,a.jsx)("header",{className:"bg-white shadow-lg sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"container-custom",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center py-3 md:py-4",children:[(0,a.jsxs)(g(),{href:p,className:"flex items-center gap-2 rtl:flex-row-reverse hover:opacity-80 transition-opacity",children:[(0,a.jsx)("div",{className:"bg-primary-500 p-1.5 md:p-2 rounded-lg shadow-md",children:(0,a.jsx)(r.Z,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg md:text-xl font-bold text-gray-900 drop-shadow-sm",children:s("title")}),(0,a.jsx)("p",{className:"text-xs text-gray-600 hidden sm:block",children:s("subtitle")})]})]}),(0,a.jsxs)("nav",{className:"hidden lg:flex items-center space-x-8",children:[(0,a.jsx)(g(),{href:p,className:"nav-link",children:s("nav_home")}),v.map(e=>(0,a.jsx)("a",{href:e.href,className:"nav-link",children:e.label},e.href)),(0,a.jsx)(g(),{href:"".concat(p,"/blog"),className:"nav-link",children:"Blog"})]}),(0,a.jsxs)("div",{className:"hidden lg:flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 ml-6",dir:"ltr",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden xl:inline font-semibold tracking-wide",children:s("phone_number")})]}),(0,a.jsx)(h,{}),(0,a.jsx)("a",{href:b?"".concat(p,"#devis"):"#devis",className:"btn-primary text-sm px-4 py-2 rounded-full shadow-md hover:scale-105 transition-transform",children:s("free_quote")})]}),(0,a.jsx)("button",{onClick:f,className:"md:hidden p-2 rounded-lg hover:bg-gray-100 focus:bg-gray-200 focus:outline-none transition-colors border border-gray-200 shadow-sm","aria-label":"Toggle menu",children:e?(0,a.jsx)(o.Z,{className:"w-7 h-7"}):(0,a.jsx)(c.Z,{className:"w-7 h-7"})})]}),e&&(0,a.jsxs)("div",{className:"md:hidden py-4 border-t border-gray-200 bg-white/95 backdrop-blur-sm shadow-lg rounded-b-xl",children:[(0,a.jsx)("div",{className:"px-4 mb-4 flex justify-end",children:(0,a.jsx)("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-100 focus:bg-gray-200 focus:outline-none transition-colors border border-gray-200","aria-label":"Fermer le menu",children:(0,a.jsx)(o.Z,{className:"w-6 h-6"})})}),(0,a.jsxs)("nav",{className:"flex flex-col gap-3 px-4",children:[(0,a.jsx)(g(),{href:p,className:"text-gray-700 hover:text-primary-600 transition-colors py-2 text-base font-medium rounded-lg hover:bg-gray-50 px-2",onClick:()=>n(!1),children:s("nav_home")}),v.map(e=>(0,a.jsx)("a",{href:e.href,className:"text-gray-700 hover:text-primary-600 transition-colors py-2 text-base font-medium rounded-lg hover:bg-gray-50 px-2",onClick:()=>n(!1),children:e.label},e.href)),(0,a.jsx)(g(),{href:"".concat(p,"/blog"),className:"text-gray-700 hover:text-primary-600 transition-colors py-2 text-base font-medium rounded-lg hover:bg-gray-50 px-2",onClick:()=>n(!1),children:"Blog"}),(0,a.jsxs)("div",{className:"py-2 px-2",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Langue / Language / اللغة"}),(0,a.jsx)(h,{})]}),(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-200 flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 rtl:flex-row-reverse",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"font-semibold tracking-wide",children:s("phone_number")})]}),(0,a.jsx)("a",{href:b?"".concat(p,"#devis"):"#devis",className:"btn-primary w-full text-center block rounded-full py-2 shadow-md hover:scale-105 transition-transform",onClick:()=>n(!1),children:s("free_quote")})]})]})]})]})})}}}]);